(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{128:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(86),c=t.n(o),i=(t(100),t(38)),u=t(2),l=t(1),s=t(33),d=t(4);function f(){var n=Object(u.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    min-height: 100%;\n    width: 100%;\n    margin: 0;\n    overflow: auto;\n  }\n\n  body {\n    font-family: Roboto;\n    font-size: calc(1em + 1vw);\n    color: #fff;\n  }\n\n  button {\n    font-family: Roboto;\n    font-size: inherit;\n    color: #032B43;\n  }\n\n  input, textarea {\n    font-family: Roboto;\n    font-size: inherit;\n    color: #032B43;\n  }\n"]);return f=function(){return n},n}var m=Object(l.b)(f()),p={colors:{background:"#032B43",primary:"#276FBF",accent:"#2EC4B6",lightAccent:"#eafaf9",error:"#FF3366",black:"#02020A"}},b=function(n){var e=n.children;return a.a.createElement(l.a,{theme:p},e)},h=t(6),v=t.n(h),E=t(22),g=t(10),x=t(16),j=t(12);function w(){var n=Object(u.a)(["\n  text-align: left;\n  margin-bottom: 1px;\n  margin-left: 1vw;\n"]);return w=function(){return n},n}function O(){var n=Object(u.a)(["\n  background-color: ",";\n  padding: 20px;\n  text-align: center;\n  transition: border-color 250ms ease;\n  border: 2px solid;\n  border-radius: 50px;\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n"]);return O=function(){return n},n}function y(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return y=function(){return n},n}var k=l.d.div(y()),S=Object(l.d)(x.b)(O(),(function(n){return n.theme.colors.lightAccent}),(function(n){return n.theme.colors.accent})),C=l.d.h4(w()),P=function(n){var e=n.name,t=n.label,r=n.obscure,o=void 0!==r&&r;return a.a.createElement(k,null,a.a.createElement(C,null,t||e),a.a.createElement(S,{name:e,"data-testid":"TextInput",type:o?"password":"text"}))};function T(){var n=Object(u.a)(["\n  color: ",";\n"]);return T=function(){return n},n}var D=l.d.div(T(),(function(n){return n.theme.colors.error})),A=function(n){return a.a.createElement(D,null,a.a.createElement(x.a,n))};function z(){var n=Object(u.a)(["\n  background-color: ",";\n  border: none;\n  border-radius: 50px;\n  padding: 10px 20px;\n  transition: opacity 250ms ease;\n  margin-top: ",";\n  flex: 1;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return z=function(){return n},n}var F=l.d.button(z(),(function(n){return n.theme.colors.accent}),(function(n){return n.marginTop||"0px"})),q=function(n){var e=n.onClick,t=n.type,r=n.children,o=n.marginTop;return a.a.createElement(F,{type:t,onClick:e,marginTop:o},r)},B=t(66),N=t.n(B);function M(){var n=Object(u.a)(["\n  display: block;\n  margin: auto;\n  text-align: center;\n  width: 10vw;\n  height: 10vh;\n"]);return M=function(){return n},n}function R(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 2;\n"]);return R=function(){return n},n}var U=l.d.div(R()),L=Object(l.d)(N.a)(M()),V=function(n){var e=n.show;return void 0!==e&&e?a.a.createElement(U,null,a.a.createElement(L,{"data-testid":"FullLoading",type:"bubbles"})):a.a.createElement(a.a.Fragment,null)},I=t(93),J=t.n(I),G=new s.a,H=J.a.create({baseURL:"https://todo-app-server0.herokuapp.com/api"});H.interceptors.request.use((function(n){var e=G.get("token");return e&&(n.headers.Authorization="Bearer ".concat(e)),n})),H.interceptors.response.use((function(n){return n}),(function(n){return 401===n.response.status&&(G.set("token",""),window.location.reload()),Promise.reject(n)}));var K=H;function Q(){var n=Object(u.a)(["\n  display: flex;\n  text-decoration: none;\n"]);return Q=function(){return n},n}function W(){var n=Object(u.a)(["\n  text-align: center;\n"]);return W=function(){return n},n}function X(){var n=Object(u.a)(["\n  color: ",";\n  text-align: center;\n"]);return X=function(){return n},n}function Y(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Y=function(){return n},n}var Z=l.d.div(Y()),$=l.d.h3(X(),(function(n){return n.theme.colors.error})),_=l.d.h3(W()),nn=Object(l.d)(i.b)(Q()),en=function(n){var e=Object(r.useState)(!1),t=Object(g.a)(e,2),o=t[0],c=t[1],i=n.location&&n.location.state&&n.location.state.fetchUserDataErrorMessage?n.location.state.fetchUserDataErrorMessage:"";return o?a.a.createElement(d.a,{to:"/dashboard"}):a.a.createElement(x.d,{initialValues:{Email:"",Password:""},validationSchema:j.a({Email:j.c().required().email(),Password:j.c().required()}),onSubmit:function(){var n=Object(E.a)(v.a.mark((function n(e,t){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.setStatus,K.post("/login",{email:e.Email,password:e.Password}).then((function(n){var e=n.data.data.token;(new s.a).set("token",e),c(!0)})).catch((function(n){n.response&&r(n.response.data.message)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},(function(e){return a.a.createElement(x.c,null,a.a.createElement(V,{show:e.isSubmitting}),a.a.createElement(Z,null,(e.status||i)&&a.a.createElement($,null,e.status||i),n.location&&n.location.state&&n.location.state.accountCreated&&a.a.createElement(_,null,"Account successfully created!"),a.a.createElement(P,{name:"Email"}),a.a.createElement(A,{name:"Email"}),a.a.createElement(P,{name:"Password",obscure:!0}),a.a.createElement(A,{name:"Password"}),a.a.createElement(q,{type:"submit",marginTop:"20px"},"Login"),a.a.createElement(nn,{to:"/signup"},a.a.createElement(q,{marginTop:"10px"}," Create a new account "))))}))};function tn(){var n=Object(u.a)(["\n  color: ",";\n  text-align: center;\n"]);return tn=function(){return n},n}function rn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return rn=function(){return n},n}var an=l.d.div(rn()),on=l.d.h3(tn(),(function(n){return n.theme.colors.error})),cn=function(){var n=Object(r.useState)(!1),e=Object(g.a)(n,2),t=e[0],o=e[1];return t?a.a.createElement(d.a,{to:{pathname:"/login",state:{accountCreated:!0}}}):a.a.createElement(x.d,{initialValues:{Name:"",Email:"",Password:"",ConfirmPassword:""},validationSchema:j.a({Name:j.c().required(),Email:j.c().required().email(),Password:j.c().required(),ConfirmPassword:j.c().oneOf([j.b("Password"),null],"Passwords don't match")}),onSubmit:function(){var n=Object(E.a)(v.a.mark((function n(e,t){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.setStatus,K.post("/user",{name:e.Name,email:e.Email,password:e.Password}).then((function(n){n&&201===n.status&&o(!0)})).catch((function(n){n.response&&r(n.response.data.message)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},(function(n){return a.a.createElement(x.c,null,a.a.createElement(V,{show:n.isSubmitting}),a.a.createElement(an,null,n.status&&a.a.createElement(on,null,n.status),a.a.createElement(P,{name:"Name"}),a.a.createElement(A,{name:"Name"}),a.a.createElement(P,{name:"Email"}),a.a.createElement(A,{name:"Email"}),a.a.createElement(P,{name:"Password",obscure:!0}),a.a.createElement(A,{name:"Password"}),a.a.createElement(P,{name:"ConfirmPassword",label:"Confirm Password",obscure:!0}),a.a.createElement(A,{name:"ConfirmPassword"}),a.a.createElement(q,{type:"submit",marginTop:"60px"},"Sign Up")))}))},un=t(94),ln=t(28);function sn(){var n=Object(u.a)(["\n  display: block;\n  margin: auto;\n  text-align: center;\n  width: 10vw;\n  height: 10vh;\n"]);return sn=function(){return n},n}function dn(){var n=Object(u.a)(["\n  position: relative;\n  top: -20px;\n  left: -20px;\n  width: calc(100% + 40px);\n  height: calc(100% + 40px);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  border-radius: 8px;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 2;\n"]);return dn=function(){return n},n}function fn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  text-align: center;\n  background-color: inherit;\n  border: none;\n  border-radius: 8px;\n  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\n  &:focus {\n    outline: none;\n  }\n\n  &:active {\n    transform: translate(2px, 2px);\n  }\n"]);return fn=function(){return n},n}function mn(){var n=Object(u.a)(["\n  ","\n  color: ",";\n"]);return mn=function(){return n},n}function pn(){var n=Object(u.a)(["\n  ","\n"]);return pn=function(){return n},n}function bn(){var n=Object(u.a)(["\n  ","\n  margin-left: 10px;\n"]);return bn=function(){return n},n}function hn(){var n=Object(u.a)(["\n  ","\n"]);return hn=function(){return n},n}function vn(){var n=Object(u.a)(["\n  &:active {\n    transform: translate(2px, 2px);\n  }\n"]);return vn=function(){return n},n}function En(){var n=Object(u.a)(["\n  justify-content: space-between;\n  margin-top: 30px;\n"]);return En=function(){return n},n}function gn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100%;\n"]);return gn=function(){return n},n}function xn(){var n=Object(u.a)(["\n  resize: none;\n  font-weight: normal;\n"]);return xn=function(){return n},n}function jn(){var n=Object(u.a)(["\n  margin: 0;\n  background-color: ",";\n  font-weight: bold;\n  transition: border-color 250ms ease;\n  border: none;\n  border-bottom: 2px solid;\n  border-color: ",";\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n"]);return jn=function(){return n},n}function wn(){var n=Object(u.a)(["\n  margin: 0;\n  margin-right: 5px;\n  font-size: small;\n"]);return wn=function(){return n},n}function On(){var n=Object(u.a)(["\n  margin: 0;\n"]);return On=function(){return n},n}function yn(){var n=Object(u.a)(["\n  margin: 0;\n"]);return yn=function(){return n},n}function kn(){var n=Object(u.a)(["\n  display: flex;\n  background-color: ",";\n  color: ",";\n  overflow-wrap: break-word;\n  flex-direction: column;\n  justify-content: start;\n  padding: 20px;\n  margin: 10px;\n  min-width: 30vw;\n  max-width: 80vw;\n  border-radius: 10px;\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\n"]);return kn=function(){return n},n}var Sn=l.d.div(kn(),(function(n){return n.theme.colors.lightAccent}),(function(n){return n.theme.colors.background})),Cn=l.d.h4(yn()),Pn=l.d.p(On()),Tn=l.d.p(wn()),Dn=Object(l.d)(x.b)(jn(),(function(n){return n.theme.colors.lightAccent}),(function(n){return n.isErrored?n.theme.colors.red:n.theme.colors.backgroundColor}),(function(n){return n.theme.colors.accent})),An=Object(l.d)(Dn)(xn()),zn=l.d.div(gn()),Fn=Object(l.d)(zn)(En()),qn=Object(l.c)(vn()),Bn=Object(l.d)(ln.e)(hn(),qn),Nn=Object(l.d)(ln.b)(bn(),qn),Mn=Object(l.d)(ln.f)(pn(),qn),Rn=Object(l.d)(ln.c)(mn(),qn,(function(n){return n.theme.colors.error})),Un=l.d.button(fn()),Ln=l.d.div(dn()),Vn=Object(l.d)(N.a)(sn()),In=function(n){var e=n.todo,t=n.onEditCancel,o=n.onSave,c=Object(r.useState)(e),i=Object(g.a)(c,2),u=i[0],l=i[1],s=Object(r.useState)(!u.id),d=Object(g.a)(s,2),f=d[0],m=d[1],p=Object(r.useState)(!1),b=Object(g.a)(p,2),h=b[0],w=b[1],O=function(){return m((function(n){return!n}))},y=function(){var n=Object(E.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:w(!0),K.delete("/todo/".concat(u.id)).then((function(n){200===n.status&&l(n.data.data)})).finally((function(){return w(!1)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),k=function(){var n=Object(E.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:w(!0),K.put("todo/".concat(u.id),{done:!u.done}).then((function(n){200===n.status&&l(n.data.data)})).finally((function(){return w(!1)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a.a.createElement(Sn,null,a.a.createElement(x.d,{initialValues:{Title:u.title,Description:u.description},validationSchema:j.a({Title:j.c().required(),Description:j.c().required()}),onSubmit:function(){var n=Object(E.a)(v.a.mark((function n(e,t){var r,a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.setStatus,w(!0),a={title:e.Title,description:e.Description},(u.id?K.put("/todo/".concat(u.id),a):K.post("/todo",a)).then((function(n){200===n.status&&l(n.data.data)})).catch((function(n){n.response&&r(n.response.data.message)})).finally((function(){return w(!1)}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},(function(n){return n.isSubmitting||h?a.a.createElement(Ln,null,a.a.createElement(Vn,{type:"bubbles"})):f?a.a.createElement(a.a.Fragment,null,a.a.createElement(zn,null,a.a.createElement(Mn,{onClick:function(){n.handleSubmit(),m(!1),o&&o()}}),a.a.createElement(Nn,{onClick:function(){n.handleReset(),O(),t&&t()}})),a.a.createElement(Dn,{name:"Title",isErrored:n.errors.Title,placeholder:"Title"}),a.a.createElement(An,{name:"Description",component:"textarea",isErrored:n.errors.Description,placeholder:"Description"}),u.id&&a.a.createElement(Fn,null,a.a.createElement(Un,{onClick:y},a.a.createElement(Tn,null," Delete Todo "),a.a.createElement(Rn,null)),a.a.createElement(Un,{onClick:Object(E.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k();case 2:o&&o();case 3:case"end":return n.stop()}}),n)})))},a.a.createElement(Tn,null,u.done?"Mark as undone":"Mark as done"),u.done?a.a.createElement(ln.g,null):a.a.createElement(ln.d,null)))):a.a.createElement(a.a.Fragment,null,a.a.createElement(zn,null,a.a.createElement(Bn,{onClick:O})),a.a.createElement(Cn,null,n.values.Title),a.a.createElement(Pn,null,n.values.Description))})))};function Jn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]);return Jn=function(){return n},n}function Gn(){var n=Object(u.a)(["\n  border-bottom: 1px solid\n    ",";\n  margin: 10px;\n"]);return Gn=function(){return n},n}function Hn(){var n=Object(u.a)(["\n  width: 4vw;\n  height: 4vw;\n  align-self: center;\n  &:active {\n    transform: translate(2px, 2px);\n  }\n"]);return Hn=function(){return n},n}function Kn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: stretch;\n  align-self: center;\n"]);return Kn=function(){return n},n}function Qn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-self: flex-start;\n  width: 100%;\n  height: 100%;\n"]);return Qn=function(){return n},n}var Wn=l.d.div(Qn()),Xn=l.d.div(Kn()),Yn=Object(l.d)(ln.a)(Hn()),Zn=l.d.div(Gn(),(function(n){return n.isActive?n.theme.colors.accent:"none"})),$n=l.d.div(Jn()),_n=function(){var n=Object(r.useState)(!0),e=Object(g.a)(n,2),t=e[0],o=e[1],c=Object(r.useState)({name:"",email:""}),i=Object(g.a)(c,2),u=i[0],l=i[1],f=Object(r.useState)([]),m=Object(g.a)(f,2),p=m[0],b=m[1],h=Object(r.useState)(""),x=Object(g.a)(h,2),j=x[0],w=x[1],O=Object(r.useState)(!0),y=Object(g.a)(O,2),k=y[0],S=y[1],C=Object(r.useState)(!1),P=Object(g.a)(C,2),T=P[0],D=P[1],A=Object(r.useState)(!1),z=Object(g.a)(A,2),F=z[0],B=z[1],N=new s.a,M=function(){S((function(n){return!n}))},R=function(){var n=Object(E.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o(!0),K.get("/user").then((function(n){var e=n.data.data;l((function(n){return Object(un.a)({},n,{name:e.name,email:e.email})}))})).catch((function(n){n.response&&w(n.response.data.message)})).finally((function(){o(!1)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),U=function(){var n=Object(E.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o(!0),K.get("/todo").then((function(n){b(n.data.data)})).catch((function(n){n.response&&w(n.response.data.message)})).finally((function(){o(!1)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){R()}),[]),Object(r.useEffect)((function(){U()}),[k]),j?a.a.createElement(d.a,{to:{pathname:"/login",state:{fetchUserDataError:j}}}):a.a.createElement(Wn,null,a.a.createElement(V,{show:t}),a.a.createElement(q,{onClick:function(){N.set("token",""),window.location.reload()}},"Logoff"),a.a.createElement("h1",null,"Greetings, ",u.name),a.a.createElement(Xn,null,a.a.createElement($n,null,a.a.createElement(Zn,{isActive:!F,onClick:function(){return B(!1)}},"To do"),a.a.createElement(Zn,{isActive:F,onClick:function(){return B(!0)}},"Done")),T?a.a.createElement(In,{todo:{title:"",description:"",done:!1},onEditCancel:function(){return D(!1)},onSave:function(){D(!1),M()}}):!F&&a.a.createElement(Yn,{onClick:function(){return D(!0)}}),0===p.length?a.a.createElement("h4",null,"No Todos were found"):p.filter((function(n){return F?n.done:!n.done})).map((function(n){return a.a.createElement(In,{key:n.id,onSave:M,todo:{title:n.title,description:n.description,done:n.done,id:n.id}})}))))};function ne(){var n=Object(u.a)(["\n  background-color: ",";\n  padding: 40px;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  min-height: 100vh;\n"]);return ne=function(){return n},n}var ee=l.d.div(ne(),(function(n){return n.theme.colors.background})),te=function(){var n=(new s.a).get("token");return a.a.createElement(a.a.Fragment,null,n?a.a.createElement(d.a,{to:"/dashboard"}):a.a.createElement(d.a,{to:"/login"}),a.a.createElement(m,null),a.a.createElement(b,null,a.a.createElement(ee,null,a.a.createElement(d.d,null,a.a.createElement(d.b,{path:"/signup",component:cn}),a.a.createElement(d.b,{path:"/login",component:en}),a.a.createElement(d.b,{path:"/dashboard",component:_n})))))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,null,a.a.createElement(te,null))),document.getElementById("root"))},95:function(n,e,t){n.exports=t(128)}},[[95,1,2]]]);
//# sourceMappingURL=main.af25e380.chunk.js.map